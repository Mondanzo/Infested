[gd_scene load_steps=74 format=3 uid="uid://csbq60jkoknc2"]

[ext_resource type="Script" path="res://Scripts/Entities/Player.gd" id="1_h6oe1"]
[ext_resource type="PackedScene" uid="uid://d37r0krwcqb78" path="res://Assets/Models/player/main_character_model.glb" id="2_jddp8"]
[ext_resource type="PackedScene" uid="uid://c5vj0ca2kjcxq" path="res://Objects/Abilities/EarthAbility.tscn" id="2_vmr2x"]
[ext_resource type="AnimationLibrary" uid="uid://d1rjhde5tcmjd" path="res://Assets/Animations/Player/attack_anim.glb" id="3_28nya"]
[ext_resource type="AnimationLibrary" uid="uid://djxo5jl8bkxhq" path="res://Assets/Animations/Player/main_character_anims.glb" id="3_47pjj"]
[ext_resource type="PackedScene" uid="uid://cb2ftfk1uay01" path="res://Objects/Attacks/WaterAttack.tscn" id="3_kjsvu"]
[ext_resource type="PackedScene" uid="uid://ew2teo5k4jea" path="res://Assets/Models/player/ability_arm_melee.glb" id="4_lh1b2"]
[ext_resource type="AnimationLibrary" uid="uid://cx2ls2jg0soon" path="res://Assets/Animations/Player/death.glb" id="4_t3nan"]
[ext_resource type="PackedScene" uid="uid://gftjxvwsc5x6" path="res://Objects/VFX/JumpStumpVFX.tscn" id="5_mn0t1"]
[ext_resource type="Material" uid="uid://d4bllpj0w0jue" path="res://Assets/Materials/Player/VFX/GhostHand.tres" id="5_ytjvw"]
[ext_resource type="AudioStream" uid="uid://cyn6xf5buy6u0" path="res://Assets/Audio/Sounds/Player/clover_hit.wav" id="7_dwf5f"]
[ext_resource type="AudioStream" uid="uid://cbyjl28o8cblq" path="res://Assets/Audio/Sounds/Player/player_jump_land.wav" id="8_lmcwb"]
[ext_resource type="PackedScene" uid="uid://6n1a4bhcrpk4" path="res://Assets/Models/player/death_flower/death_flower.glb" id="9_rh36l"]
[ext_resource type="PackedScene" uid="uid://bak6l81318ru4" path="res://UI/HUD.tscn" id="11_wefjj"]
[ext_resource type="AudioStream" uid="uid://b8x7yuxdh7vhw" path="res://Assets/Audio/Sounds/Player/Hits/Punchy_Punchy_1.wav" id="12_bgvmf"]
[ext_resource type="PackedScene" uid="uid://n6t762lrytrw" path="res://UI/DebugUI.tscn" id="12_ppn7t"]
[ext_resource type="AudioStream" uid="uid://bqe1ldhikggtj" path="res://Assets/Audio/Sounds/Player/Hits/Punchy_Punchy_2.wav" id="13_wjknt"]
[ext_resource type="AudioStream" uid="uid://c7v2w1f3k5ht1" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_1.wav" id="14_m84am"]
[ext_resource type="AudioStream" uid="uid://b5vxxqgkiljrn" path="res://Assets/Audio/Sounds/Player/Hits/Punchy_Punchy_3.wav" id="14_op4pd"]
[ext_resource type="AudioStream" uid="uid://catg31mnce3r0" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_2.wav" id="15_7wiqn"]
[ext_resource type="AudioStream" uid="uid://cxjv3gf386g7c" path="res://Assets/Audio/Sounds/Player/Hits/Punchy_Punchy_4.wav" id="15_t35te"]
[ext_resource type="AudioStream" uid="uid://cjndy7ax4857u" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_3.wav" id="16_jcm4d"]
[ext_resource type="AudioStream" uid="uid://c5v8uf1c0bhti" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_4.wav" id="17_2kvda"]
[ext_resource type="AudioStream" uid="uid://t7pyxagajm6f" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_5.wav" id="18_yfg42"]
[ext_resource type="AudioStream" uid="uid://ti23nh1oobbe" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_6.wav" id="19_b4mnb"]
[ext_resource type="AudioStream" uid="uid://dars51kvvgl1d" path="res://Assets/Audio/Sounds/Player/Jump/clover_jump_7.wav" id="20_kpnkv"]
[ext_resource type="PackedScene" uid="uid://dsy3isus06abg" path="res://Objects/Utils/ShadowCaster.tscn" id="27_gqeyj"]

[sub_resource type="BoxShape3D" id="BoxShape3D_6ix17"]
size = Vector3(1, 3.06, 3.65981)

[sub_resource type="BoxShape3D" id="BoxShape3D_cxqj2"]
size = Vector3(3.57081, 3.60861, 6.36423)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_mhfn2"]
height = 4.97232
radius = 12.5692

[sub_resource type="Animation" id="Animation_y0ihb"]
length = 0.001
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Armature/Skeleton3D/Body:mesh:surface_0/material:next_pass:shader_parameter/alpha")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../ghost_hand/ability_arm_armature/Skeleton3D/ability_arm:surface_material_override/0:albedo_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_uryhi"]
resource_name = "hurt"
length = 0.333335
loop_mode = 1
step = 0.0166667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Armature/Skeleton3D/Body:mesh:surface_0/material:next_pass:shader_parameter/alpha")
tracks/0/interp = 0
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.183333, 0.333333),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0.0, 1.0, 0.0]
}

[sub_resource type="Animation" id="Animation_cqyme"]
resource_name = "melee_ghost_hand"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../ghost_hand/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("ability_ghost_fist"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../SoundPlayer:current_animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Player/fist"]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"melee_trigger"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../ghost_hand/ability_arm_armature/Skeleton3D/ability_arm:surface_material_override/0:albedo_color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ykgmo"]
_data = {
"RESET": SubResource("Animation_y0ihb"),
"hurt": SubResource("Animation_uryhi"),
"melee_ghost_hand": SubResource("Animation_cqyme")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b1gqk"]
animation = &"attack_anim/melee_attack"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_u3rqy"]
filter_enabled = true
filters = ["..", "../SoundPlayer", "../SoundPlayer:current_animation", "../ghost_hand/AnimationPlayer", "../ghost_hand/BoneAttachment3D/MeleeAttackArea/Collision3D:disabled", "../ghost_hand/ability_arm_armature/Skeleton3D/ability_arm:surface_material_override/0:albedo_color", "../ghost_hand/ability_arm_armature/Skeleton3D/ability_arm:transparency", "../ghost_hand:visible", "Armature/Skeleton3D/Body:mesh:surface_0/material:next_pass:shader_parameter/alpha", "Armature/Skeleton3D:collarbone_L", "Armature/Skeleton3D:collarbone_R", "Armature/Skeleton3D:eye_controller_L", "Armature/Skeleton3D:eye_controller_R", "Armature/Skeleton3D:hair_left_low_L", "Armature/Skeleton3D:hair_left_low_R", "Armature/Skeleton3D:hair_left_lower_L", "Armature/Skeleton3D:hair_left_mid_L", "Armature/Skeleton3D:hair_left_top_L", "Armature/Skeleton3D:hair_left_top_R", "Armature/Skeleton3D:hair_low", "Armature/Skeleton3D:hair_mid_1", "Armature/Skeleton3D:hair_mid_2", "Armature/Skeleton3D:hand_L", "Armature/Skeleton3D:hand_R", "Armature/Skeleton3D:head", "Armature/Skeleton3D:index_1_L", "Armature/Skeleton3D:index_1_R", "Armature/Skeleton3D:index_2_L", "Armature/Skeleton3D:index_2_R", "Armature/Skeleton3D:index_3_L", "Armature/Skeleton3D:index_3_R", "Armature/Skeleton3D:index_4_L", "Armature/Skeleton3D:index_4_R", "Armature/Skeleton3D:lower_arm_L", "Armature/Skeleton3D:lower_arm_R", "Armature/Skeleton3D:middlefinger_1_L", "Armature/Skeleton3D:middlefinger_1_R", "Armature/Skeleton3D:middlefinger_2_L", "Armature/Skeleton3D:middlefinger_2_R", "Armature/Skeleton3D:middlefinger_3_L", "Armature/Skeleton3D:middlefinger_3_R", "Armature/Skeleton3D:middlefinger_4_L", "Armature/Skeleton3D:neck", "Armature/Skeleton3D:pinky_1_L", "Armature/Skeleton3D:pinky_1_R", "Armature/Skeleton3D:pinky_2_L", "Armature/Skeleton3D:pinky_2_R", "Armature/Skeleton3D:pinky_3_L", "Armature/Skeleton3D:pinky_3_R", "Armature/Skeleton3D:pinky_4_L", "Armature/Skeleton3D:pinky_4_R", "Armature/Skeleton3D:spine_3", "Armature/Skeleton3D:spine_4", "Armature/Skeleton3D:thumb_1_L", "Armature/Skeleton3D:thumb_1_R", "Armature/Skeleton3D:thumb_2_L", "Armature/Skeleton3D:thumb_2_R", "Armature/Skeleton3D:thumb_3_L", "Armature/Skeleton3D:thumb_3_R", "Armature/Skeleton3D:upper_arm_L", "Armature/Skeleton3D:upper_arm_R", "ghost_hand/AnimationPlayer", "ghost_hand/BoneAttachment3D/MeleeAttackArea/Collision3D:disabled", "ghost_hand:visible"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_htcmp"]
animation = &"main_character_anims/fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1ggkg"]
animation = &"main_character_anims/idle2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_x1vcp"]
animation = &"main_character_anims/run"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_fblyh"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_ti4ju"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_3pwou"]
graph_offset = Vector2(-369.013, -35.3688)
nodes/Animation/node = SubResource("AnimationNodeAnimation_x1vcp")
nodes/Animation/position = Vector2(-140, 240)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_1ggkg")
"nodes/Animation 2/position" = Vector2(-140, 120)
nodes/IdleWalkBlend/node = SubResource("AnimationNodeBlend2_fblyh")
nodes/IdleWalkBlend/position = Vector2(340, 160)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_ti4ju")
nodes/TimeScale/position = Vector2(160, 220)
nodes/output/position = Vector2(540, 120)
node_connections = [&"output", 0, &"IdleWalkBlend", &"IdleWalkBlend", 0, &"Animation 2", &"IdleWalkBlend", 1, &"TimeScale", &"TimeScale", 0, &"Animation"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3pmr1"]
animation = &"main_character_anims/jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kuedk"]
advance_mode = 2
advance_condition = &"is_falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_e2n1d"]
advance_mode = 2
advance_condition = &"is_jumping"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ho7xy"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yigja"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xxa8e"]
advance_mode = 2
advance_condition = &"is_jumping"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hmuq8"]
advance_mode = 2
advance_condition = &"is_on_floor"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tvsh3"]
advance_mode = 2
advance_condition = &"is_falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_canff"]
advance_mode = 2
advance_condition = &"is_on_floor"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_xjswq"]
states/Fall/node = SubResource("AnimationNodeAnimation_htcmp")
states/Fall/position = Vector2(597, 48)
states/IdleWalk/node = SubResource("AnimationNodeBlendTree_3pwou")
states/IdleWalk/position = Vector2(485, 203)
states/Jump/node = SubResource("AnimationNodeAnimation_3pmr1")
states/Jump/position = Vector2(373, 48)
states/Start/position = Vector2(259, 203)
transitions = ["Jump", "Fall", SubResource("AnimationNodeStateMachineTransition_kuedk"), "Fall", "Jump", SubResource("AnimationNodeStateMachineTransition_e2n1d"), "Start", "IdleWalk", SubResource("AnimationNodeStateMachineTransition_ho7xy"), "IdleWalk", "End", SubResource("AnimationNodeStateMachineTransition_yigja"), "IdleWalk", "Jump", SubResource("AnimationNodeStateMachineTransition_xxa8e"), "Jump", "IdleWalk", SubResource("AnimationNodeStateMachineTransition_hmuq8"), "IdleWalk", "Fall", SubResource("AnimationNodeStateMachineTransition_tvsh3"), "Fall", "IdleWalk", SubResource("AnimationNodeStateMachineTransition_canff")]
graph_offset = Vector2(173, -7)

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_p81eg"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1conc"]
animation = &"melee_ghost_hand"

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_ymjc8"]
filters = ["..", "../SoundPlayer:current_animation", "../ghost_hand/AnimationPlayer", "../ghost_hand/ability_arm_armature/Skeleton3D/ability_arm:transparency"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_5wy8l"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s2m6h"]
animation = &"death/death_anim"

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_1b3k6"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_me5ox"]
animation = &"hurt"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lcbpy"]
animation = &"RESET"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_4eu3p"]
blend_point_0/node = SubResource("AnimationNodeAnimation_me5ox")
blend_point_0/pos = 1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_lcbpy")
blend_point_1/pos = 0.0
min_space = 0.0
value_label = "hurt_amount"
blend_mode = 1

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_jy6y3"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_yg3em"]
graph_offset = Vector2(-1000.48, 210.35)
nodes/Animation/node = SubResource("AnimationNodeAnimation_b1gqk")
nodes/Animation/position = Vector2(-1480, 480)
nodes/MeleeAttack/node = SubResource("AnimationNodeOneShot_u3rqy")
nodes/MeleeAttack/position = Vector2(-600, 240)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_xjswq")
nodes/StateMachine/position = Vector2(-1180, 140)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_p81eg")
nodes/TimeScale/position = Vector2(-1140, 460)
"nodes/big hand/node" = SubResource("AnimationNodeAnimation_1conc")
"nodes/big hand/position" = Vector2(-1480, 360)
nodes/complete_melee/node = SubResource("AnimationNodeAdd2_ymjc8")
nodes/complete_melee/position = Vector2(-900, 320)
nodes/dead/node = SubResource("AnimationNodeBlend2_5wy8l")
nodes/dead/position = Vector2(20, 60)
nodes/death/node = SubResource("AnimationNodeAnimation_s2m6h")
nodes/death/position = Vector2(-840, 20)
nodes/death_time/node = SubResource("AnimationNodeTimeSeek_1b3k6")
nodes/death_time/position = Vector2(-540, 60)
nodes/hurt_amount/node = SubResource("AnimationNodeBlendSpace1D_4eu3p")
nodes/hurt_amount/position = Vector2(-420, 340)
nodes/hurt_view/node = SubResource("AnimationNodeAdd2_jy6y3")
nodes/hurt_view/position = Vector2(-240, 240)
nodes/output/position = Vector2(200, 60)
node_connections = [&"output", 0, &"dead", &"MeleeAttack", 0, &"StateMachine", &"MeleeAttack", 1, &"complete_melee", &"TimeScale", 0, &"Animation", &"complete_melee", 0, &"big hand", &"complete_melee", 1, &"TimeScale", &"dead", 0, &"hurt_view", &"dead", 1, &"death_time", &"death_time", 0, &"death", &"hurt_view", 0, &"MeleeAttack", &"hurt_view", 1, &"hurt_amount"]

[sub_resource type="Animation" id="Animation_lwgrn"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerDie:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_o31ke"]
_data = {
"RESET": SubResource("Animation_lwgrn")
}

[sub_resource type="Animation" id="Animation_lqyu7"]
resource_name = "die"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerDie:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_xh2do"]
streams_count = 4
playback_mode = 1
stream_0/stream = ExtResource("12_bgvmf")
stream_0/weight = 1.0
stream_1/stream = ExtResource("13_wjknt")
stream_1/weight = 1.0
stream_2/stream = ExtResource("14_op4pd")
stream_2/weight = 1.0
stream_3/stream = ExtResource("15_t35te")
stream_3/weight = 1.0

[sub_resource type="Animation" id="Animation_vw7db"]
resource_name = "fist"
length = 0.6953
tracks/0/type = "audio"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioStreamPlayer3D")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": SubResource("AudioStreamRandomizer_xh2do")
}],
"times": PackedFloat32Array(0)
}
tracks/0/use_blend = true

[sub_resource type="Animation" id="Animation_0s85y"]
resource_name = "hit"
length = 0.2
tracks/0/type = "audio"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioStreamPlayer3D")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("7_dwf5f")
}],
"times": PackedFloat32Array(0)
}
tracks/0/use_blend = true

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_s3ylt"]
streams_count = 7
stream_0/stream = ExtResource("14_m84am")
stream_0/weight = 1.0
stream_1/stream = ExtResource("15_7wiqn")
stream_1/weight = 1.0
stream_2/stream = ExtResource("16_jcm4d")
stream_2/weight = 1.0
stream_3/stream = ExtResource("17_2kvda")
stream_3/weight = 1.0
stream_4/stream = ExtResource("18_yfg42")
stream_4/weight = 1.0
stream_5/stream = ExtResource("19_b4mnb")
stream_5/weight = 1.0
stream_6/stream = ExtResource("20_kpnkv")
stream_6/weight = 1.0

[sub_resource type="Animation" id="Animation_wpbuo"]
resource_name = "jump"
length = 0.1
tracks/0/type = "audio"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioStreamPlayer3D")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": SubResource("AudioStreamRandomizer_s3ylt")
}],
"times": PackedFloat32Array(0)
}
tracks/0/use_blend = true

[sub_resource type="Animation" id="Animation_v1kft"]
resource_name = "land"
length = 0.1
tracks/0/type = "audio"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioStreamPlayer3D")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": [{
"end_offset": 0.3848,
"start_offset": 0.1793,
"stream": ExtResource("8_lmcwb")
}],
"times": PackedFloat32Array(0)
}
tracks/0/use_blend = true

[sub_resource type="AnimationLibrary" id="AnimationLibrary_buklx"]
_data = {
"die": SubResource("Animation_lqyu7"),
"fist": SubResource("Animation_vw7db"),
"hit": SubResource("Animation_0s85y"),
"jump": SubResource("Animation_wpbuo"),
"land": SubResource("Animation_v1kft")
}

[node name="Player" type="CharacterBody3D"]
collision_layer = 9
collision_mask = 129
wall_min_slide_angle = 0.523599
floor_stop_on_slope = false
floor_max_angle = 1.0472
floor_snap_length = 0.05
script = ExtResource("1_h6oe1")
JUMP_VELOCITY = 30
melee_cooldown = 1.0
melee_knockback = Vector3(30, 25, 0)
abilities = Array[PackedScene]([ExtResource("2_vmr2x"), ExtResource("3_kjsvu")])

[node name="CollisionShape2D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.55028, 0)
shape = SubResource("BoxShape3D_6ix17")

[node name="ghost_hand" parent="." instance=ExtResource("4_lh1b2")]

[node name="ability_arm_armature" parent="ghost_hand" index="0"]
transform = Transform3D(2.69211, 0, 0, 0, 2.69211, 0, 0, 0, 2.69211, 1.65988, 5.1968, -1.38593)

[node name="Skeleton3D" parent="ghost_hand/ability_arm_armature" index="0"]
bones/1/position = Vector3(-0.748709, -0.752845, -1.00046)
bones/3/position = Vector3(3.07554e-11, 1.56545e-09, 2.07348e-10)
bones/3/rotation = Quaternion(0.732573, -0.293953, 0.488952, 0.371287)
bones/4/rotation = Quaternion(0.319029, -0.0136832, 0.898246, 0.301974)
bones/5/rotation = Quaternion(-0.122606, 0.0112489, 0.012709, 0.99231)
bones/6/rotation = Quaternion(-0.0802426, 0.735727, 0.0182483, 0.67226)
bones/7/rotation = Quaternion(-0.207582, 0.851959, 0.118772, 0.465799)
bones/8/rotation = Quaternion(-0.362232, -0.00192368, -0.0206385, 0.931857)
bones/10/rotation = Quaternion(-0.593767, -0.802393, -0.0581532, 0.0149593)
bones/11/rotation = Quaternion(-0.0861354, 0.0252426, 0.623174, 0.776916)
bones/12/rotation = Quaternion(-0.122461, -0.0126587, 0.456686, 0.881068)
bones/13/position = Vector3(0.092093, 0.0561664, 0.242387)
bones/13/rotation = Quaternion(-0.0503325, 0.754479, 0.00186412, 0.654389)
bones/14/rotation = Quaternion(-0.557101, -0.829864, -0.015076, 0.0271625)
bones/15/rotation = Quaternion(-0.0900393, 0.0844902, 0.668693, 0.733215)
bones/16/rotation = Quaternion(-0.118228, 0.0333405, 0.456764, 0.881066)
bones/17/position = Vector3(0.284113, 0.0415947, 0.190012)
bones/17/rotation = Quaternion(-0.0172324, 0.779034, 0.0146648, 0.626573)
bones/18/rotation = Quaternion(-0.620065, -0.781922, 0.0638345, 0.0065503)
bones/19/rotation = Quaternion(-0.0509343, 0.18519, 0.590197, 0.784078)
bones/20/rotation = Quaternion(-0.115749, 0.119281, 0.442824, 0.881068)

[node name="ability_arm" parent="ghost_hand/ability_arm_armature/Skeleton3D" index="0"]
cast_shadow = 0
surface_material_override/0 = ExtResource("5_ytjvw")

[node name="HurtArea" type="Area3D" parent="ghost_hand"]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 2
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="ghost_hand/HurtArea"]
transform = Transform3D(1, 7.45058e-09, 2.22045e-16, -7.45058e-09, 1, 0, -2.22045e-16, -1.65436e-24, 1, 8.46399e-09, 1.24456, 4.23367)
shape = SubResource("BoxShape3D_cxqj2")

[node name="PlayerModel" parent="." instance=ExtResource("2_jddp8")]

[node name="Skeleton3D" parent="PlayerModel/Armature" index="0"]
bones/1/position = Vector3(-6.5581e-10, 1.42478, -0.0761672)
bones/1/rotation = Quaternion(0.274615, 1.14133e-07, -3.44182e-08, 0.961554)
bones/2/position = Vector3(-6.90204e-10, 0.237908, 0.00289476)
bones/2/rotation = Quaternion(0.0279191, 1.42095e-14, 6.65643e-09, 0.99961)
bones/3/rotation = Quaternion(-0.0865622, -6.33856e-09, -1.96018e-08, 0.996246)
bones/4/rotation = Quaternion(0.335256, 2.56184e-10, 7.92039e-08, 0.942127)
bones/5/rotation = Quaternion(-0.000545114, -2.0936e-07, -2.22419e-08, 1)
bones/6/rotation = Quaternion(-0.374995, 0.0512407, -0.0124511, 0.925526)
bones/8/rotation = Quaternion(-0.645058, -0.265951, 0.0117138, 0.716263)
bones/9/rotation = Quaternion(-0.779284, -0.233065, -0.0249661, 0.581183)
bones/10/rotation = Quaternion(-0.867188, -0.212121, -0.0193432, 0.450128)
bones/11/rotation = Quaternion(0.914836, -0.0611387, -0.0221139, -0.398558)
bones/14/rotation = Quaternion(-0.832761, 6.59981e-08, -9.92729e-08, 0.553632)
bones/15/rotation = Quaternion(0.309306, 6.63125e-14, 7.37443e-08, 0.950963)
bones/16/rotation = Quaternion(0.904361, -5.08748e-08, 1.07808e-07, -0.426769)
bones/21/rotation = Quaternion(0.914836, 0.0611387, 0.0221139, -0.398558)
bones/23/rotation = Quaternion(-0.552663, -0.407595, -0.281833, 0.670075)
bones/24/rotation = Quaternion(-0.399915, 0.747822, -0.183094, 0.4973)
bones/25/rotation = Quaternion(0.245694, 0.0355613, -0.567281, 0.785215)
bones/26/rotation = Quaternion(0.0379121, -0.454977, -0.0539113, 0.888061)
bones/27/rotation = Quaternion(-0.0802432, -0.735727, -0.0182478, 0.67226)
bones/28/rotation = Quaternion(-0.0137286, 0.977109, 0.212274, 0.00292497)
bones/29/rotation = Quaternion(-0.509014, -0.00782948, 0.00137196, 0.860721)
bones/30/rotation = Quaternion(-0.021, -0.743133, 0.0655917, 0.66559)
bones/31/rotation = Quaternion(-0.500772, 0.862696, 0.0567292, -0.0420121)
bones/32/rotation = Quaternion(-0.0147122, 0.108446, -0.597892, 0.794071)
bones/33/rotation = Quaternion(-1.08965e-07, 5.84638e-07, 2.93483e-07, 1)
bones/35/rotation = Quaternion(-0.465092, 0.885194, 0.00278878, -0.0106198)
bones/36/rotation = Quaternion(-0.00619458, 0.0179728, -0.659043, 0.751865)
bones/38/rotation = Quaternion(0.00172487, -0.775422, 0.0281222, 0.630814)
bones/39/rotation = Quaternion(-0.526618, 0.845481, -0.0840309, -0.0278316)
bones/40/rotation = Quaternion(0.0416336, -0.111028, -0.590655, 0.798164)
bones/41/rotation = Quaternion(-3.60422e-07, 1.04774e-08, -1.12777e-07, 1)
bones/42/rotation = Quaternion(-0.44693, 0.521367, 0.425207, 0.589601)
bones/43/rotation = Quaternion(-0.659703, 0.0271461, 0.169231, 0.731721)
bones/44/rotation = Quaternion(0.342333, -0.0229829, 0.790409, 0.507477)
bones/46/position = Vector3(-0.070524, -0.0394768, -0.0340244)
bones/46/rotation = Quaternion(-0.0802431, 0.735727, 0.0182478, 0.67226)
bones/47/rotation = Quaternion(0.0136378, 0.98287, 0.183767, -0.00332296)
bones/48/rotation = Quaternion(-0.529687, 0.00786026, -0.00118216, 0.848156)
bones/49/rotation = Quaternion(-0.0152804, 0.742542, -0.0719743, 0.665746)
bones/50/rotation = Quaternion(0.553648, 0.830208, 0.0577155, 0.0299596)
bones/51/rotation = Quaternion(-0.00926559, -0.0721826, 0.489304, 0.869072)
bones/52/rotation = Quaternion(-1.00583e-07, -5.83474e-07, -3.2052e-07, 1)
bones/54/rotation = Quaternion(0.517766, 0.855511, 0.00391904, -0.00195456)
bones/55/rotation = Quaternion(-0.00582036, -0.0138186, 0.551288, 0.834181)
bones/56/rotation = Quaternion(4.98258e-08, 5.42728e-07, 5.5744e-07, 1)
bones/57/rotation = Quaternion(-0.0083002, 0.775771, -0.0157957, 0.630762)
bones/58/rotation = Quaternion(0.543965, 0.833393, -0.0837098, 0.0504989)
bones/59/rotation = Quaternion(0.0379289, 0.0733055, 0.481755, 0.87241)
bones/61/rotation = Quaternion(0.688209, 0.162382, -0.688209, -0.162382)
bones/62/rotation = Quaternion(-0.0100261, -0.456331, 0.876324, -0.154007)
bones/63/rotation = Quaternion(-0.608144, -0.649547, -0.00814346, -0.456272)
bones/64/rotation = Quaternion(0.807831, 7.81931e-08, -1.37631e-06, 0.589414)
bones/65/rotation = Quaternion(-0.619517, -4.20963e-07, 3.94393e-07, 0.784983)
bones/67/rotation = Quaternion(0.036698, -0.70099, -0.0507278, 0.710418)
bones/68/rotation = Quaternion(0.822915, 0.33834, -0.107645, 0.443565)
bones/69/rotation = Quaternion(0.815105, -0.271828, 0.440037, -0.260922)
bones/70/rotation = Quaternion(0.312146, -3.78057e-08, 1.53122e-07, 0.950034)
bones/71/rotation = Quaternion(-0.451854, -9.18138e-07, 2.71734e-07, 0.892092)
bones/73/rotation = Quaternion(-0.479505, 0.532556, -0.474766, 0.510936)
bones/74/position = Vector3(1.97205, 1.82557, -1.46825)
bones/78/position = Vector3(0.458355, 1.45378, -0.340213)
bones/79/position = Vector3(0.16693, 0.580096, 0.226163)
bones/80/position = Vector3(-0.505302, 1.51305, 0.706404)
bones/81/position = Vector3(-0.16693, 0.24165, -0.886772)

[node name="Body" parent="PlayerModel/Armature/Skeleton3D" index="0"]
layers = 524289

[node name="crystal_decor" parent="PlayerModel/Armature/Skeleton3D" index="1"]
layers = 524289

[node name="Eyes" parent="PlayerModel/Armature/Skeleton3D" index="2"]
layers = 524289

[node name="hair" parent="PlayerModel/Armature/Skeleton3D" index="3"]
layers = 524289

[node name="death_flower" parent="PlayerModel" instance=ExtResource("9_rh36l")]

[node name="Skeleton3D" parent="PlayerModel/death_flower/death_flower_armature" index="0"]
bones/0/position = Vector3(-0.0394525, 0, 0.00802068)
bones/0/rotation = Quaternion(0.00401851, -1.41262e-10, 0.566419, 0.824108)
bones/0/scale = Vector3(0.0116732, 0.0116732, 0.0116732)
bones/1/rotation = Quaternion(0.000244138, 1.45519e-10, -1.09961e-06, 1)
bones/2/position = Vector3(-2.22912e-06, 1.07161, -0.000523085)
bones/2/rotation = Quaternion(-0.000345263, -2.32831e-10, 1.56821e-06, 1)
bones/3/position = Vector3(1.18837e-06, 1.07161, 0.000216809)
bones/3/rotation = Quaternion(1.16415e-10, 1.16415e-10, 2.2349e-08, 1)
bones/4/position = Vector3(5.97676e-07, 1.07161, 0.000216794)
bones/4/rotation = Quaternion(0.000172632, -2.32831e-10, -8.10188e-07, 1)
bones/5/position = Vector3(-1.31154e-06, 1.07161, -0.000153272)
bones/5/rotation = Quaternion(-1.74623e-10, -8.73115e-11, -2.72848e-12, 1)
bones/6/position = Vector3(-1.06799e-06, 1.07161, -0.000153348)
bones/6/rotation = Quaternion(-0.000172631, -5.82077e-11, 8.92134e-07, 1)
bones/7/position = Vector3(4.95696e-07, 1.07161, 0.000216816)
bones/7/rotation = Quaternion(-5.82077e-11, 3.49246e-10, 2.23408e-08, 1)
bones/8/position = Vector3(9.78122e-07, 1.07161, 0.000216793)
bones/8/rotation = Quaternion(-1.16415e-10, 8.73115e-11, 1.48994e-08, 1)
bones/8/scale = Vector3(1, 0.999999, 1)
bones/9/position = Vector3(8.64733e-07, 1.07161, 0.00021667)
bones/9/rotation = Quaternion(1.16415e-10, 3.20142e-10, 7.43873e-09, 1)
bones/10/position = Vector3(2.73576e-07, 1.07161, 0.000216698)
bones/10/rotation = Quaternion(1.74624e-10, 2.91038e-11, 7.44788e-09, 1)
bones/11/position = Vector3(1.70921e-06, 1.07161, 0.000216872)
bones/11/rotation = Quaternion(-3.49245e-10, -2.91038e-11, -7.44422e-09, 1)
bones/12/position = Vector3(6.41914e-07, 1.07161, 0.000216747)
bones/12/rotation = Quaternion(-1.16415e-10, 8.73115e-11, 1.48816e-08, 1)
bones/13/position = Vector3(5.12227e-08, 1.07161, 0.000216838)
bones/13/rotation = Quaternion(-1.16415e-10, 2.91038e-11, 1.48907e-08, 1)
bones/13/scale = Vector3(1, 0.999998, 1)
bones/14/position = Vector3(1.36788e-06, 1.07161, 0.000216722)
bones/14/rotation = Quaternion(1.74623e-10, 3.20142e-10, -7.44694e-09, 1)
bones/15/position = Vector3(1.25286e-06, 1.07161, 0.000216659)
bones/15/rotation = Quaternion(-4.07453e-10, 2.32831e-10, 7.44054e-09, 1)
bones/16/position = Vector3(3.04542e-07, 1.07161, 0.000216763)
bones/16/rotation = Quaternion(3.49247e-10, 2.91038e-11, 7.44879e-09, 1)
bones/17/position = Vector3(1.02515e-06, 1.07161, 0.000216734)
bones/17/rotation = Quaternion(0.0356453, -9.97448e-10, -0.00392971, 0.999357)
bones/17/scale = Vector3(1, 0.999999, 1)
bones/18/position = Vector3(-1.1595e-06, 2.54837, 7.45058e-08)
bones/18/scale = Vector3(0.628714, 0.628714, 0.628714)
bones/23/rotation = Quaternion(-0.117634, 0.712891, 0.157326, 0.673199)
bones/23/scale = Vector3(1, 1, 0.999999)
bones/24/rotation = Quaternion(-0.123243, -0.711631, -0.162599, 0.672275)
bones/24/scale = Vector3(1, 1, 0.999999)
bones/25/rotation = Quaternion(-0.00296108, -0.972668, -0.232163, 0.002961)
bones/25/scale = Vector3(1, 1, 0.999999)
bones/26/rotation = Quaternion(-0.162163, -0.00319964, -0.00319967, 0.986754)
bones/26/scale = Vector3(1, 1, 0.999999)
bones/27/rotation = Quaternion(-0.0853631, 0.79381, 0.135747, 0.586644)
bones/27/scale = Vector3(0.221067, 0.221067, 0.221067)
bones/28/rotation = Quaternion(-0.669833, -0.122929, -0.122929, 0.721873)
bones/28/scale = Vector3(0.291118, 0.291118, 0.291118)
bones/29/scale = Vector3(0.235039, 0.235039, 0.235039)

[node name="stem" parent="PlayerModel/death_flower/death_flower_armature/Skeleton3D" index="0"]
layers = 524288

[node name="AbsorbArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape3D" parent="AbsorbArea"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.02116, 0)
shape = SubResource("CylinderShape3D_mhfn2")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../PlayerModel")
libraries = {
"": SubResource("AnimationLibrary_ykgmo"),
"attack_anim": ExtResource("3_28nya"),
"death": ExtResource("4_t3nan"),
"main_character_anims": ExtResource("3_47pjj")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeBlendTree_yg3em")
anim_player = NodePath("../AnimationPlayer")
advance_expression_base_node = NodePath("..")
active = true
parameters/MeleeAttack/active = false
parameters/MeleeAttack/internal_active = false
parameters/MeleeAttack/request = 0
parameters/StateMachine/conditions/is_falling = false
parameters/StateMachine/conditions/is_jumping = false
parameters/StateMachine/conditions/is_on_floor = false
parameters/StateMachine/IdleWalk/IdleWalkBlend/blend_amount = 1.0
parameters/StateMachine/IdleWalk/TimeScale/scale = 1.5
parameters/TimeScale/scale = 0.5
parameters/complete_melee/add_amount = 1.0
parameters/dead/blend_amount = 0.0
parameters/death_time/seek_request = -1.0
parameters/hurt_amount/blend_position = 0.217996
parameters/hurt_view/add_amount = 1.0

[node name="GPUParticlesAttractorSphere3D" type="GPUParticlesAttractorSphere3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.64547, 0)
strength = 512.0
attenuation = 1e-05
cull_mask = 4293918728
radius = 1.90934

[node name="JumpStumpVFX" parent="." instance=ExtResource("5_mn0t1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.131472, 0)

[node name="SoundPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_o31ke"),
"Player": SubResource("AnimationLibrary_buklx")
}

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
bus = &"SFX"
attenuation_filter_db = 0.0

[node name="PlayerDie" type="AudioStreamPlayer3D" parent="."]
bus = &"Death"
area_mask = 0

[node name="HUD" parent="." instance=ExtResource("11_wefjj")]

[node name="DebugUI" parent="." instance=ExtResource("12_ppn7t")]

[node name="ShadowCaster" parent="." instance=ExtResource("27_gqeyj")]
target_position = Vector3(0, -10, 0)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.41346, 1.10755)
light_energy = 0.2

[connection signal="ability_changed" from="." to="HUD" method="update_ability_ui"]
[connection signal="fragment_collected" from="." to="HUD" method="update_player_fragments"]
[connection signal="vitality_changed" from="." to="HUD" method="_on_player_vitality_changed"]

[editable path="ghost_hand"]
[editable path="PlayerModel"]
[editable path="PlayerModel/death_flower"]
